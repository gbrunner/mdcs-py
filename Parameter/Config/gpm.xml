<?xml version="1.0" encoding="utf-8"?>
<Application>
  <Name>GPM</Name>
  <Command>CM+RI+AR+SS+AI+SP</Command>
  <CustomCommand>
	<inputmrf>$inmrf$</inputmrf>
	<outputsrcFC>$outFC$</outputsrcFC>
	<startdate>$sdate$</startdate>
	<enddate>$edate$</enddate>
	<interval>$interval$</interval>
	<intervalunits>$intervalunits$</intervalunits>
	<bucket>#;$bucket$</bucket>
	<infolder>#;$infolder$</infolder>
	<startslice>0;$sslice$</startslice>
	<endslice>48;$eslice$</endslice>
  </CustomCommand>
  <Workspace>
    <WorkspacePath>C:\PROJECTS\NASA\mdcs-py\0MD</WorkspacePath>
    <Geodatabase>Master.gdb</Geodatabase>
    <MosaicDataset>
      <MosaicDatasetType>Scientific</MosaicDatasetType>
      <Name>GPM</Name>
      <SRS>4326</SRS>
      <num_bands>1</num_bands>
      <pixel_type>32_BIT_FLOAT</pixel_type>
      <AddRasters>
        <AddRaster>
          <dataset_id>GPM</dataset_id>
          <raster_type>Table / Raster Catalog</raster_type>
          <Sources>
            <data_path>currFolder\data\GPM</data_path>
          </Sources>
          <filter>*</filter>
        </AddRaster>
      </AddRasters>
      <DefaultProperties>
        <max_num_per_mosaic>1</max_num_per_mosaic>
        <rows_maximum_imagesize>5000</rows_maximum_imagesize>
        <columns_maximum_imagesize>5000</columns_maximum_imagesize>
        <allowed_compressions>JPEG;NONE;LZ77;LERC</allowed_compressions>
        <default_compression_type>LERC</default_compression_type>
        <JPEG_quality>80</JPEG_quality>
        <resampling_type>BILINEAR</resampling_type>
        <LERC_Tolerance>0.001</LERC_Tolerance>
        <clip_to_footprints>CLIP</clip_to_footprints>
        <clip_to_boundary>NOT_CLIP</clip_to_boundary>
        <color_correction>NOT_APPLY</color_correction>
        <footprints_may_contain_nodata>FOOTPRINTS_DO_NOT_CONTAIN_NODATA</footprints_may_contain_nodata>
        <allowed_mensuration_capabilities>BASIC</allowed_mensuration_capabilities>
        <default_mensuration_capabilities>BASIC</default_mensuration_capabilities>
        <allowed_mosaic_methods>Center;NorthWest;Nadir;LockRaster;ByAttribute;Seamline;None</allowed_mosaic_methods>
        <default_mosaic_method>ByAttribute</default_mosaic_method>
        <Order_field>StdTime</Order_field>
        <order_base>2050/01/01</order_base>
        <sorting_order>Ascending</sorting_order>
        <mosaic_operator>FIRST</mosaic_operator>
        <blend_width>10</blend_width>
        <view_point_x>300</view_point_x>
        <view_point_y>300</view_point_y>
        <max_num_per_mosaic>1</max_num_per_mosaic>
        <cell_size_tolerance>0.8</cell_size_tolerance>
        <cell_size>#</cell_size>
        <metadata_level>BASIC</metadata_level>
        <transmission_fields>Name;MinPS;MaxPS;LowPS;HighPS;GroupName;ProductName;Variable;StdTime;Dimensions;StdTime</transmission_fields>
        <use_time>ENABLED</use_time>
        <start_time_field>StdTime</start_time_field>
        <end_time_field>StdTime</end_time_field>
        <time_format>#</time_format>
		<processing_templates>C:\PROJECTS\NASA\mdcs-py\Parameter\RasterFunctionTemplates\GPM_Stretch_DRA.rft.xml</processing_templates>
		<default_processing_template>GPM_Stretch_DRA.rft.xml</default_processing_template>
        <geographic_transform>#</geographic_transform>
        <max_num_of_download_items>20</max_num_of_download_items>
        <max_num_of_records_returned>1000</max_num_of_records_returned>
      </DefaultProperties>
      <Table>
          <AddFields>AddFields</AddFields>
          <Fields>
            <Field>
              <name>TownName</name>
              <type>TEXT</type>
              <length>32</length>
            </Field>
          </Fields>
      </Table>
      <Processes>
      <CalculateValues>
          <CalculateValue>
			  		  <expression_type>PYTHON</expression_type>
                   <!-- NOTE: Set expression_type to PYTHON explicitly for 64 bit systems -->
              <fieldName>TownName</fieldName>
              <expression>"GPM"</expression>
          </CalculateValue>
      </CalculateValues>
        <CalculateCellSizeranges>
          <where_clause/>
          <do_compute_min>MIN_CELL_SIZES</do_compute_min>
          <do_compute_max>MAX_CELL_SIZES</do_compute_max>
          <max_range_factor>10</max_range_factor>
          <cell_size_tolerance_factor>0.8</cell_size_tolerance_factor>
          <update_missing_only>UPDATE_ALL</update_missing_only>
        </CalculateCellSizeranges>
        <BuildFootprint>
          <reset_footprint>GEOMETRY</reset_footprint>
          <approx_num_vertices>4</approx_num_vertices>
          <update_boundary>UPDATE_BOUNDARY</update_boundary>
        </BuildFootprint>
        <BuildBoundary>
          <append_to_existing>OVERWRITE</append_to_existing>
          <simplification_method>NONE</simplification_method>
        </BuildBoundary>
        <BuildOverviews>
          <where_clause>#</where_clause>
          <define_missing_tiles>DEFINE_MISSING_TILES</define_missing_tiles>
          <generate_overviews>GENERATE_OVERVIEWS</generate_overviews>
          <generate_missing_images>GENERATE_MISSING_IMAGES</generate_missing_images>
          <regenerate_stale_images>REGENERATE_STALE_IMAGES</regenerate_stale_images>
        </BuildOverviews>
        <DefineOverviews>
          <overview_image_folder></overview_image_folder>
          <in_template_dataset>#</in_template_dataset>
          <extent>#</extent>
          <pixel_size>#</pixel_size>
          <number_of_levels>#</number_of_levels>
          <tile_rows>5120</tile_rows>
          <tile_cols>5120</tile_cols>
          <overview_factor>2</overview_factor>
          <force_overview_tiles>NO_FORCE_OVERVIEW_TILES</force_overview_tiles>
          <resampling_method>BILINEAR</resampling_method>
          <compression_method>JPEG_YCbCr</compression_method>
          <compression_quality>80</compression_quality>
        </DefineOverviews>
		<SetStatistics>			
			<stats_file>gpm_stats.xml</stats_file>
		</SetStatistics>
        <AddIndex>
		<Index>
			<fields>Variable</fields>
			<index_name>Variable</index_name>
		</Index>		
		<Index>
			<fields>Dimensions</fields>
			<index_name>Dimensions</index_name>
		</Index>
		<Index>
			<fields>StdTime</fields>
			<index_name>StdTime</index_name>
		</Index>
		<Index>
			<fields>Name</fields>
			<index_name>Name</index_name>
		</Index>
        </AddIndex>
		<RemoveIndex>
		<index_name>Variable;Dimensions;StdTime;Name</index_name>
		</RemoveIndex>
        <ImportGeometry>
          <target_featureclass_type>FOOTPRINT</target_featureclass_type>
          <target_join_field>TypeID</target_join_field>
          <input_featureclass>Boundary.gdb\Boundary_GCS</input_featureclass>
          <input_join_field>OBJECTID</input_join_field>
        </ImportGeometry>
        <ImportGeometry>
          <target_featureclass_type>BOUNDARY</target_featureclass_type>
          <target_join_field>OBJECTID</target_join_field>
          <input_featureclass>Boundary.gdb\Boundary_GCS</input_featureclass>
          <input_join_field>OBJECTID</input_join_field>
        </ImportGeometry>
      </Processes>
    </MosaicDataset>
  </Workspace>
</Application>